# Docker Media Manager - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Application Settings
# =============================================================================

# Application secret key (generate a random string)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-me-to-a-random-secure-key

# Application mode (development or production)
APP_ENV=production

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# User/Group IDs (Important for Unraid)
# =============================================================================

# User ID (Unraid default: 99)
PUID=99

# Group ID (Unraid default: 100)
PGID=100

# Timezone (e.g., Europe/Berlin, America/New_York)
TZ=Europe/Berlin

# =============================================================================
# TMDB Configuration
# =============================================================================

# TMDB API Key (get free key from https://www.themoviedb.org/settings/api)
TMDB_API_KEY=your_tmdb_api_key_here

# TMDB Language (e.g., de-DE, en-US)
TMDB_LANGUAGE=de-DE

# =============================================================================
# Database Configuration
# =============================================================================

# Database URL (SQLite by default)
DATABASE_URL=sqlite:///config/database.db

# =============================================================================
# Redis Configuration (for Celery)
# =============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# =============================================================================
# Download Configuration
# =============================================================================

# aria2c RPC settings
ARIA2C_HOST=localhost
ARIA2C_PORT=6800
ARIA2C_SECRET=

# Maximum concurrent downloads
MAX_CONCURRENT_DOWNLOADS=3

# Maximum download speed in KB/s (0 = unlimited)
MAX_DOWNLOAD_SPEED=0

# =============================================================================
# Premium Accounts (Optional)
# =============================================================================

# RapidGator
RAPIDGATOR_USERNAME=
RAPIDGATOR_PASSWORD=

# DDownload
DDOWNLOAD_USERNAME=
DDOWNLOAD_PASSWORD=

# =============================================================================
# Encoding Configuration
# =============================================================================

# Default encoding strategy (prefer_remote, remote_only, server_only, load_balance)
ENCODING_STRATEGY=prefer_remote

# Maximum parallel encoding jobs
MAX_PARALLEL_ENCODINGS=2

# Hardware acceleration (auto, nvenc, qsv, amf, none)
HARDWARE_ACCEL=auto

# =============================================================================
# Remote Worker Configuration (Optional)
# =============================================================================

# Enable remote worker support
REMOTE_WORKER_ENABLED=false

# Remote worker URL (e.g., http://192.168.1.100:5000)
REMOTE_WORKER_URL=

# Remote worker API key (should match worker configuration)
REMOTE_WORKER_API_KEY=

# Use network share instead of file transfer
REMOTE_WORKER_USE_SHARE=false

# Shared path (if using network share)
REMOTE_WORKER_SHARE_PATH=/mnt/shared

# =============================================================================
# File Organization
# =============================================================================

# Automatically organize files after processing
AUTO_ORGANIZE=true

# Delete original files after successful conversion
DELETE_ORIGINAL_AFTER_CONVERSION=true

# Delete temporary files after processing
DELETE_TEMP_FILES=true

# =============================================================================
# Paths (usually don't need to change in Docker)
# =============================================================================

# Base paths (mapped via Docker volumes)
DOWNLOADS_PATH=/downloads
MEDIA_PATH=/media
CONFIG_PATH=/config
CACHE_PATH=/cache

# =============================================================================
# Web Interface
# =============================================================================

# Web interface port
WEB_PORT=8080

# Enable CORS (for development)
ENABLE_CORS=false

# Allowed origins (if CORS is enabled)
CORS_ORIGINS=http://localhost:3000

# =============================================================================
# Security
# =============================================================================

# JWT token expiration (in minutes)
JWT_EXPIRATION=60

# Enable API authentication (recommended in production)
ENABLE_API_AUTH=true

# API rate limiting (requests per minute)
API_RATE_LIMIT=60

# =============================================================================
# Advanced Settings
# =============================================================================

# Celery worker concurrency
CELERY_WORKERS=4

# Enable debug mode (do not use in production)
DEBUG=false

# Cleanup interval (in hours)
CLEANUP_INTERVAL=24

# TMDB cache TTL (in hours)
TMDB_CACHE_TTL=24
